{"version":3,"sources":["components/ProtectedRoute.js","utils/auth.js","utils/variables.js","utils/Api.js","contexts/CurrentUserContext.js","images/logo-header.svg","components/Header.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/AddPlacePopup.js","components/ImagePopup.js","components/DeleteConfirmPopup.js","components/MenuMobile.js","components/Login.js","components/Register.js","images/Succeed-icon.svg","images/Error-icon.svg","components/InfoTooltip.js","components/App.js","reportWebVitals.js","index.js"],"names":["ProtectedRoute","Component","component","props","loggedIn","to","URL","handleResponse","res","ok","json","Promise","reject","status","apiInfo","api","baseUrl","headers","this","_baseUrl","_headers","fetch","then","_handleResponse","all","getCards","getUserInfo","data","method","body","JSON","stringify","name","link","about","isLiked","authorization","CurrentUserContext","createContext","Header","handleLogout","email","toggleMenu","isMenuOpen","className","src","logo","alt","exact","path","onClick","Card","card","onCardClick","onCardLike","onCardDeleteClick","currentUser","useContext","isOwn","owner","_id","likes","some","i","style","display","type","title","length","Main","handleEditProfileClick","handleAddPlaceClick","handleEditAvatarClick","handleCardClick","handleCardDeleteClick","cards","backgroundImage","avatar","map","Footer","PopupWithForm","buttonText","isOpen","children","onClose","onSubmit","onCloseOverlay","id","action","EditProfilePopup","onUpdateUser","isLoading","useState","setName","description","setDescription","useEffect","e","preventDefault","onChange","target","value","placeholder","required","minLength","maxLength","EditAvatarPopup","onUpdateAvatar","isDataSet","avatarRef","useRef","current","ref","AddPlacePopup","onAddPlace","nameRef","linkRef","ImagePopup","DeleteConfirmPopup","onCardDelete","MenuMobile","Login","handleLogin","password","setData","handleChange","Register","handleRegister","InfoToolTip","icon","SucceedIcon","ErrorIcon","App","setCards","id_","setCurrentUser","isEditProfilePopupOpen","setIsEditProfilePopupOpen","isAddPlacePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","isInfoToolTipOpen","setIsInfoToolTipOpen","setIsMenuOpen","setIsLoading","infoToolTipData","setInfoToolTipData","selectedCard","setSelectedCard","deletedCard","setDeletedCard","setLoggedIn","setIsDataSet","userData","setUserData","getAllneededData","userInfo","catch","err","console","log","closeByEscape","evt","key","closeAllPopups","document","addEventListener","removeEventListener","tokenCheck","history","useHistory","push","closeByOverlayClick","currentTarget","handleInfoToolTip","localStorage","removeItem","token","getItem","auth","Provider","changeLikeCardStatus","newCard","c","setItem","finally","setUserInfo","setCard","setAvatar","setDelete","filter","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.981ab03a.chunk.js","sourcesContent":["// import React from 'react';\nimport { Route, Redirect } from 'react-router-dom';\n\nexport const ProtectedRoute = ({ component: Component, ...props }) => {\n  return (\n    <Route>\n      {\n        () => props.loggedIn === true ? <Component {...props} /> : <Redirect to=\"./sign-in\" />\n      }\n    </Route>\n  )\n}","const URL = 'https://auth.nomoreparties.co';\n\nconst handleResponse = (res) => {\n  if (res.ok) {\n    return res.json();\n  }\n  return Promise.reject(`Ошибка: ${res.status}`);\n}\n\nexport const register = (password, email) => {\n  return fetch(`${URL}/signup`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({ password, email })\n  })\n    .then(handleResponse);\n\n};\nexport const authorize = (email, password) => {\n  return fetch(`${URL}/signin`, {\n    method: 'POST',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json'\n    },\n    body: JSON.stringify({email, password})\n  })\n    .then(handleResponse)\n};\n\nexport const getContent = (token) => {\n  return fetch(`${URL}/users/me`, {\n    method: 'GET',\n    headers: {\n      'Accept': 'application/json',\n      'Content-Type': 'application/json',\n      'Authorization': `Bearer ${token}`,\n    }\n  })\n    .then(handleResponse)\n}","export const apiInfo = {\n  url: 'https://mesto.nomoreparties.co/v1/cohort-26/',\n  token: 'b0e0b94f-d543-4f9f-b125-9b741686cafd'\n}","import { apiInfo } from './variables.js'\n\nclass Api {\n  constructor({ baseUrl, headers }) {\n    this._baseUrl = baseUrl;\n    this._headers = headers;\n  }\n\n  _handleResponse(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  };\n\n  getCards() {\n    return fetch(`${this._baseUrl}cards`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getUserInfo() {\n    return fetch(`${this._baseUrl}users/me`, {\n      headers: this._headers\n    })\n      .then(this._handleResponse);\n  }\n\n  getAllneededData() {\n    return Promise.all([this.getCards(), this.getUserInfo()])\n  }\n\n  setCard(data) {\n    return fetch(`${this._baseUrl}cards`, {\n      method: 'POST',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        link: data.link,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setUserInfo(data) {\n    return fetch(`${this._baseUrl}users/me`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify({\n        name: data.name,\n        about: data.about,\n      })\n    })\n      .then(this._handleResponse);\n  }\n\n  setAvatar(data) {\n    return fetch(`${this._baseUrl}users/me/avatar`, {\n      method: 'PATCH',\n      headers: this._headers,\n      body: JSON.stringify(data)\n    })\n      .then(this._handleResponse);\n  }\n\n  setLike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'PUT',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDislike(data) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  changeLikeCardStatus(data, isLiked) {\n    return fetch(`${this._baseUrl}cards/likes/${data}`, {\n      method: `${isLiked ? 'DELETE' : 'PUT'}`,\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n  }\n\n  setDelete(data) {\n    return fetch(`${this._baseUrl}cards/${data}`, {\n      method: 'DELETE',\n      headers: this._headers,\n    })\n      .then(this._handleResponse);\n\n  }\n}\n\nexport const api = new Api ({\n  baseUrl: apiInfo.url,\n  headers: {\n    authorization: apiInfo.token,\n    'Content-Type': 'application/json'\n  }\n})","import { createContext } from \"react\";\n\nexport const CurrentUserContext = createContext();","export default __webpack_public_path__ + \"static/media/logo-header.5f3664ca.svg\";","import logo from \"../images/logo-header.svg\";\nimport { Route, Switch, Link } from \"react-router-dom\";\n\nexport const Header = ({ handleLogout, email, toggleMenu, isMenuOpen }) => {\n  return (\n    <header className=\"header section\">\n      <img className=\"logo header__logo\" src={logo} alt=\"Логотип\" />\n      <Switch>\n        <Route exact path=\"/\">\n          <div className=\"header__info\">\n            <span className=\"header__email\">{email}</span>\n            <Link\n              to=\"/sign-in\"\n              onClick={handleLogout}\n              className=\"button header__link\"\n            >\n              Выйти\n            </Link>\n          </div>\n\n          <div className=\"hamburger-menu\" onClick={toggleMenu}>\n            <div\n              className={\n                isMenuOpen ? \"humburger-menu__menu humburger-menu__menu_clicked\" : \"humburger-menu__menu\"\n              }\n            ></div>\n          </div>\n        </Route>\n\n        <Route path=\"/sign-in\">\n          <Link to=\"/sign-up\" className=\"button header__link\">\n            Регистрация\n          </Link>\n        </Route>\n\n        <Route path=\"/sign-up\">\n          <Link to=\"/sign-in\" className=\"button header__link\">\n            Войти\n          </Link>\n        </Route>\n      </Switch>\n    </header>\n  );\n};\n","import { useContext } from \"react\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport const Card = ({ card, onCardClick, onCardLike, onCardDeleteClick }) => {\n  const currentUser = useContext(CurrentUserContext);\n  const isOwn = card.owner._id === currentUser._id;\n  const isLiked = card.likes.some((i) => i._id === currentUser._id);\n\n  const handleLikeClick = () => {\n    onCardLike(card);\n  };\n\n  const handleClick = () => {\n    onCardClick(card);\n  };\n\n  const handleClickDelete = () => {\n    onCardDeleteClick(card);\n  };\n\n  return (\n    <li className=\"element\">\n      <button\n        onClick={handleClickDelete}\n        className=\"button element__delete-button\"\n        style={isOwn ? { display: \"block\" } : { display: \"none\" }}\n        aria-label=\"Удалить\"\n        type=\"button\"\n      ></button>\n      <img\n        className=\"element__image\"\n        onClick={handleClick}\n        src={card.link}\n        alt={card.title}\n      />\n      <div className=\"element__info\">\n        <h2 className=\"element__title\">{card.name}</h2>\n        <div className=\"element__like\">\n          <button\n            onClick={handleLikeClick}\n            className={\n              isLiked\n                ? \"button element__like-button element__like-button_active\"\n                : \"button element__like-button\"\n            }\n            aria-label=\"Понравилось\"\n            type=\"button\"\n          ></button>\n          <span className=\"element__like-counter\">{card.likes.length}</span>\n        </div>\n      </div>\n    </li>\n  );\n};\n","import { useContext } from \"react\";\nimport { Card } from \"./Card\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport const Main = ({\n  handleEditProfileClick,\n  handleAddPlaceClick,\n  handleEditAvatarClick,\n  handleCardClick,\n  handleCardDeleteClick,\n  cards,\n  onCardLike,\n}) => {\n  const currentUser = useContext(CurrentUserContext);\n\n  return (\n    <main className=\"main\">\n      <section className=\"profile section\">\n        <div\n          className=\"profile__avatar\"\n          style={{ backgroundImage: `url(${currentUser.avatar})` }}\n          onClick={handleEditAvatarClick}\n        ></div>\n        <div className=\"profile__info\">\n          <h1 className=\"profile__name\">{currentUser.name}</h1>\n          <button\n            className=\"button profile__edit-button\"\n            aria-label=\"Изменить профиль\"\n            type=\"button\"\n            onClick={handleEditProfileClick}\n          ></button>\n          <p className=\"profile__occupation\">{currentUser.about}</p>\n        </div>\n        <button\n          className=\"button profile__add-button\"\n          aria-label=\"Добавить\"\n          type=\"button\"\n          onClick={handleAddPlaceClick}\n        ></button>\n      </section>\n      <section className=\"section elements\">\n        <ul className=\"elements__list\">\n          {cards.map((card) => {\n            return (\n              <Card\n                key={card._id}\n                card={card}\n                onCardClick={handleCardClick}\n                onCardLike={onCardLike}\n                onCardDeleteClick={handleCardDeleteClick}\n              />\n            );\n          })}\n        </ul>\n      </section>\n    </main>\n  );\n};\n","export const Footer = () => {\n  return (\n    <footer className=\"footer section\">\n      <p className=\"footer__copyright\">&copy; 2021 Mesto Russia</p>\n    </footer>\n  );\n};","export const PopupWithForm = ({\n  title,\n  name,\n  buttonText,\n  isOpen,\n  children,\n  onClose,\n  onSubmit,\n  onCloseOverlay,\n}) => {\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        isOpen\n          ? \"popup popup_type_input popup_opened\"\n          : \"popup popup_type_input\"\n      }\n      id={name}\n    >\n      <div className=\"popup__container popup__container_type_input\">\n        <h2 className=\"popup__title\">{title}</h2>\n        <button\n          onClick={onClose}\n          className=\"button popup__exit-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <form\n          onSubmit={onSubmit}\n          className=\"popup__form\"\n          action=\"#\"\n          name={name}\n        >\n          {children}\n          <button\n            className=\"button popup__save-button\"\n            type=\"submit\"\n            aria-label={buttonText}\n          >\n            {buttonText}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};\n","import { useState, useEffect, useContext } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nexport const EditProfilePopup = ({\n  isOpen,\n  onClose,\n  onUpdateUser,\n  onCloseOverlay,\n  isLoading,\n}) => {\n  const currentUser = useContext(CurrentUserContext);\n  const [name, setName] = useState(\"\");\n  const [description, setDescription] = useState(\"\");\n\n  const handleChangeName = (e) => {\n    setName(e.target.value);\n  };\n\n  const handleChangeDescription = (e) => {\n    setDescription(e.target.value);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateUser({\n      name: name,\n      about: description,\n    });\n  };\n\n  useEffect(() => {\n    setName(currentUser.name);\n    setDescription(currentUser.about);\n  }, [currentUser, isOpen]);\n\n  return (\n    <PopupWithForm\n      name={\"edit-profile\"}\n      title={\"Редактировать профиль\"}\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        onChange={handleChangeName}\n        value={name}\n        className=\"popup__input\"\n        id=\"name\"\n        type=\"text\"\n        placeholder=\"Имя\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"40\"\n      />\n      <span className=\"popup__input-error\" id=\"name-error\">\n        Mistake\n      </span>\n      <input\n        onChange={handleChangeDescription}\n        value={description}\n        className=\"popup__input\"\n        id=\"occupation\"\n        type=\"text\"\n        placeholder=\"Род занятий\"\n        name=\"about\"\n        required\n        minLength=\"2\"\n        maxLength=\"200\"\n      />\n      <span className=\"popup__input-error\" id=\"occupation-error\"></span>\n    </PopupWithForm>\n  );\n};","import { useEffect, useRef } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport const EditAvatarPopup = ({\n  isOpen,\n  onClose,\n  onUpdateAvatar,\n  onCloseOverlay,\n  isLoading,\n  isDataSet,\n}) => {\n  const avatarRef = useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onUpdateAvatar({\n      avatar: avatarRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (isDataSet) {\n      avatarRef.current.value = \"\";\n    }\n  }, [isDataSet]);\n\n  return (\n    <PopupWithForm\n      name={\"edit-avatar\"}\n      title={\"Обновить аватар\"}\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        ref={avatarRef}\n        className=\"popup__input\"\n        id=\"avatar\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"avatar\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"avatar-error\"></span>\n    </PopupWithForm>\n  );\n};","import { useEffect, useRef } from \"react\";\nimport { PopupWithForm } from \"./PopupWithForm\";\n\nexport const AddPlacePopup = ({\n  isOpen,\n  onClose,\n  onAddPlace,\n  onCloseOverlay,\n  isLoading,\n  isDataSet,\n}) => {\n  const nameRef = useRef();\n  const linkRef = useRef();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onAddPlace({\n      name: nameRef.current.value,\n      link: linkRef.current.value,\n    });\n  };\n\n  useEffect(() => {\n    if (isDataSet) {\n      nameRef.current.value = \"\";\n      linkRef.current.value = \"\";\n    }\n  }, [isDataSet]);\n\n  return (\n    <PopupWithForm\n      name={\"add-place\"}\n      title={\"Новое место\"}\n      buttonText={isLoading ? \"Сохранение...\" : \"Сохранить\"}\n      isOpen={isOpen}\n      onClose={onClose}\n      onSubmit={handleSubmit}\n      onCloseOverlay={onCloseOverlay}\n    >\n      <input\n        ref={nameRef}\n        className=\"popup__input\"\n        id=\"title\"\n        type=\"text\"\n        placeholder=\"Название\"\n        name=\"name\"\n        required\n        minLength=\"2\"\n        maxLength=\"30\"\n      />\n      <span className=\"popup__input-error\" id=\"title-error\">\n        Mistake\n      </span>\n      <input\n        ref={linkRef}\n        className=\"popup__input\"\n        id=\"link\"\n        type=\"url\"\n        placeholder=\"Ссылка на картинку\"\n        name=\"link\"\n        required\n      />\n      <span className=\"popup__input-error\" id=\"link-error\"></span>\n    </PopupWithForm>\n  );\n};","export const ImagePopup = ({ card, onClose, onCloseOverlay }) => {\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        card.link\n          ? \"popup popup_type_image popup_opened\"\n          : \"popup popup_type_image\"\n      }\n      id=\"image-popup\"\n    >\n      <div className=\"popup__container popup__container_type_image\">\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <img className=\"popup__image\" src={card.link} alt={card.name} />\n        <h2 className=\"popup__caption\">{card.name}</h2>\n      </div>\n    </section>\n  );\n};\n","export const DeleteConfirmPopup = ({\n  card,\n  onClose,\n  onCloseOverlay,\n  onCardDelete,\n  isLoading,\n}) => {\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onCardDelete(card);\n  };\n\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        card.link\n          ? \"popup popup_type_image popup_opened\"\n          : \"popup popup_type_image\"\n      }\n      id=\"delete-conformation\"\n    >\n      <div className=\"popup__container popup__container_type_input\">\n        <h2 className=\"popup__title\">Вы уверены?</h2>\n        <button\n          className=\"button popup__exit-button\"\n          onClick={onClose}\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n        <form\n          onSubmit={handleSubmit}\n          className=\"popup__form\"\n          id=\"delete-conformation-form\"\n          action=\"#\"\n          name=\"delete-conformation-form\"\n        >\n          <button\n            className=\"button popup__save-button\"\n            type=\"submit\"\n            aria-label={isLoading ? \"Удаление...\" : \"Да\"}\n          >\n            {isLoading ? \"Удаление...\" : \"Да\"}\n          </button>\n        </form>\n      </div>\n    </section>\n  );\n};","import { Link } from \"react-router-dom\";\n\nexport const MenuMobile = ({ email, isMenuOpen, handleLogout }) => {\n  return (\n    <section className={isMenuOpen ? \"menu_mobile\" : \"menu_bobile menu_hiden\"}>\n      <span className=\"menu__email\">{email}</span>\n      <Link to=\"/sign-in\" onClick={handleLogout} className=\"button menu__link\">\n        Выйти\n      </Link>\n    </section>\n  );\n};\n","import { useState } from \"react\";\n\nexport const Login = ({ handleLogin }) => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = data;\n    handleLogin(email, password);\n  };\n\n  return (\n    <div className=\"entrance\">\n      <h2 className=\"entrance__title\">Вход</h2>\n\n      <form onSubmit={handleSubmit} className=\"entrance__form\">\n        <input\n          className=\"entrance__input\"\n          id=\"email\"\n          required\n          name=\"email\"\n          type=\"email\"\n          value={data.email}\n          onChange={handleChange}\n          placeholder=\"E-mail\"\n        />\n\n        <input\n          className=\"entrance__input\"\n          id=\"password\"\n          required\n          name=\"password\"\n          type=\"password\"\n          value={data.password}\n          onChange={handleChange}\n          placeholder=\"Пароль\"\n        />\n\n        <button type=\"submit\" className=\"entrance__button\">\n          Войти\n        </button>\n      </form>\n      <p className=\"entrance__caption\"></p>\n    </div>\n  );\n};\n","import { Link } from \"react-router-dom\";\nimport { useState, useEffect } from \"react\";\n\nexport const Register = ({ handleRegister, isDataSet }) => {\n  const [data, setData] = useState({\n    email: \"\",\n    password: \"\",\n  });\n\n  const handleChange = (e) => {\n    const { name, value } = e.target;\n    setData({\n      ...data,\n      [name]: value,\n    });\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    const { email, password } = data;\n    handleRegister(password, email);\n  };\n\n  useEffect(() => {\n    if (isDataSet) {\n      setData({ email: \"\", password: \"\" });\n    }\n  }, [isDataSet]);\n\n  return (\n    <section className=\"entrance\">\n      <h2 className=\"entrance__title\">Регистрация</h2>\n\n      <form onSubmit={handleSubmit} className=\"entrance__form\">\n        <input\n          className=\"entrance__input\"\n          id=\"email\"\n          name=\"email\"\n          type=\"email\"\n          value={data.email}\n          onChange={handleChange}\n          placeholder=\"E-mail\"\n        />\n\n        <input\n          className=\"entrance__input\"\n          id=\"password\"\n          name=\"password\"\n          type=\"password\"\n          value={data.password}\n          onChange={handleChange}\n          placeholder=\"Пароль\"\n        />\n\n        <button type=\"submit\" className=\"entrance__button\">\n          Зарегистрироваться\n        </button>\n      </form>\n\n      <p className=\"entrance__caption\">\n        Уже зарегистрированы?&nbsp;\n        <Link to=\"sign-in\" className=\"entrance__link\">\n          Войти\n        </Link>\n      </p>\n    </section>\n  );\n};\n","export default __webpack_public_path__ + \"static/media/Succeed-icon.1b6082f8.svg\";","export default __webpack_public_path__ + \"static/media/Error-icon.df8eddf6.svg\";","import SucceedIcon from \"../images/Succeed-icon.svg\";\nimport ErrorIcon from \"../images/Error-icon.svg\";\n\nexport const InfoToolTip = ({\n  onCloseOverlay,\n  isOpen,\n  onClose,\n  title,\n  icon,\n}) => {\n  return (\n    <section\n      onClick={onCloseOverlay}\n      className={\n        isOpen\n          ? \"popup popup_type_input popup_opened\"\n          : \"popup popup_type_input\"\n      }\n    >\n      <div className=\"popup__container popup__container_type_notification\">\n        <img\n          className=\"popup__icon\"\n          src={icon ? SucceedIcon : ErrorIcon}\n          alt=\"Иконка\"\n        />\n        <h2 className=\"popup__notification\">{title}</h2>\n        <button\n          onClick={onClose}\n          className=\"button popup__exit-button\"\n          type=\"button\"\n          aria-label=\"Закрыть\"\n        ></button>\n      </div>\n    </section>\n  );\n};\n","//* Some similar components were built in different ways for practice.\n// todo - Плавное появление меню\n// todo - Добавить спинер на загрузку main\n// todo - Валидация форм\n// todo - Страница 404.\n// todo - Make comp Entrance.js and use in Login.js and Rigister.js\n// todo - change Ref into controled comps (AddPlace and other)\n// todo - replace hamburger menu from App.js into Header.js\n\nimport { useState, useEffect } from \"react\";\nimport { Route, Switch, Redirect, useHistory } from \"react-router-dom\";\n\nimport { ProtectedRoute } from \"./ProtectedRoute\";\nimport * as auth from \"../utils/auth\"; // just methods\nimport { api } from \"../utils/Api\"; // class\nimport { CurrentUserContext } from \"../contexts/CurrentUserContext\";\n\nimport { Header } from \"./Header\";\nimport { Main } from \"./Main\";\nimport { Footer } from \"./Footer\";\nimport { EditProfilePopup } from \"./EditProfilePopup\"; // onChange\nimport { EditAvatarPopup } from \"./EditAvatarPopup\"; // input data as Ref\nimport { AddPlacePopup } from \"./AddPlacePopup\"; // inputs' data as Ref\nimport { ImagePopup } from \"./ImagePopup\";\nimport { DeleteConfirmPopup } from \"./DeleteConfirmPopup\";\nimport { MenuMobile } from \"./MenuMobile\";\nimport { Login } from \"./Login\"; // inputs' data as object + onChange\nimport { Register } from \"./Register\"; // inputs' data as object + onChange\nimport { InfoToolTip } from \"./InfoTooltip\";\n\nfunction App() {\n  // USER & CARDS\n  const [cards, setCards] = useState([]);\n  const [currentUser, setCurrentUser] = useState({\n    name: \"\",\n    about: \"\",\n    id_: \"\",\n  });\n  // POPUPS\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = useState(false);\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = useState(false);\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = useState(false);\n  const [isInfoToolTipOpen, setIsInfoToolTipOpen] = useState(false);\n  const [isMenuOpen, setIsMenuOpen] = useState(false);\n  const [isLoading, setIsLoading] = useState(false); // buttons\n  const [infoToolTipData, setInfoToolTipData] = useState({\n    title: \"\",\n    icon: \"\",\n  });\n  // CARDS\n  const [selectedCard, setSelectedCard] = useState({\n    name: \"\",\n    link: \"\",\n  });\n  const [deletedCard, setDeletedCard] = useState({\n    name: \"\",\n    link: \"\",\n  });\n  // AUTH\n  const [loggedIn, setLoggedIn] = useState(false);\n  const [isDataSet, setIsDataSet] = useState(false);\n  const [userData, setUserData] = useState({\n    email: \"\",\n  });\n\n  // GET User and Cards\n  useEffect(() => {\n    api\n      .getAllneededData()\n      .then((res) => {\n        const [cards, userInfo] = res;\n        setCards(cards);\n        setCurrentUser(userInfo);\n      })\n      .catch((err) => console.log(err));\n  }, []);\n\n  // CLOSE popup by Esc\n  useEffect(() => {\n    const closeByEscape = (evt) => {\n      if (evt.key === \"Escape\") {\n        closeAllPopups();\n      }\n    };\n    document.addEventListener(\"keydown\", closeByEscape);\n    return () => document.removeEventListener(\"keydown\", closeByEscape);\n  }, []);\n\n  // CHECK token\n  useEffect(() => {\n    tokenCheck();\n  }, []);\n\n  // START page\n  const history = useHistory();\n\n  useEffect(() => {\n    if (loggedIn) {\n      history.push(\"/\");\n    }\n  }, [history, loggedIn]);\n\n  // CARD\n  const handleCardLike = (card) => {\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\n    api\n      .changeLikeCardStatus(card._id, isLiked)\n      .then((newCard) => {\n        setCards((cards) =>\n          cards.map((c) => (c._id === card._id ? newCard : c))\n        );\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleCardDelete = (card) => {\n    setIsLoading(true);\n    api\n      .setDelete(card._id)\n      .then((res) => {\n        setCards((cards) => cards.filter((c) => c._id !== card._id));\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleCardClick = (card) => {\n    setSelectedCard(card);\n  };\n\n  const handleCardDeleteClick = (card) => {\n    setDeletedCard(card);\n  };\n\n  // POPUPs\n  const onEditProfile = () => {\n    setIsEditProfilePopupOpen(true);\n  };\n  const onAddPlace = () => {\n    setIsAddPlacePopupOpen(true);\n  };\n  const onEditAvatar = () => {\n    setIsEditAvatarPopupOpen(true);\n  };\n\n  const closeAllPopups = () => {\n    setIsEditProfilePopupOpen(false);\n    setIsAddPlacePopupOpen(false);\n    setIsEditAvatarPopupOpen(false);\n    setSelectedCard({ name: \"\", link: \"\" });\n    setDeletedCard({ name: \"\", link: \"\" });\n    setIsInfoToolTipOpen(false);\n  };\n\n  const handleUpdateUser = (data) => {\n    setIsLoading(true);\n    api\n      .setUserInfo(data)\n      .then((res) => {\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n      });\n  };\n\n  const handleUpdateAvatar = (data) => {\n    setIsLoading(true);\n    api\n      .setAvatar(data)\n      .then((res) => {\n        setIsDataSet(true);\n        setCurrentUser(res);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n        setIsDataSet(false);\n      });\n  };\n\n  const handleAddPlaceSubmit = (data) => {\n    setIsLoading(true);\n    api\n      .setCard(data)\n      .then((res) => {\n        setIsDataSet(true);\n        setCards([res, ...cards]);\n        closeAllPopups();\n      })\n      .catch((err) => console.log(err))\n      .finally(() => {\n        setIsLoading(false);\n        setIsDataSet(false);\n      });\n  };\n\n  const closeByOverlayClick = (evt) => {\n    if (evt.target === evt.currentTarget) {\n      closeAllPopups();\n    }\n  };\n\n  const toggleMenu = () => {\n    isMenuOpen ? setIsMenuOpen(false) : setIsMenuOpen(true);\n  };\n\n  const handleInfoToolTip = () => {\n    setIsInfoToolTipOpen(true);\n  };\n\n  // AUTH\n  const handleLogin = (email, password) => {\n    auth\n      .authorize(email, password)\n      .then((res) => {\n        if (res.token) {\n          localStorage.setItem(\"token\", res.token);\n          setUserData({ email: email });\n          setLoggedIn(true);\n          setIsMenuOpen(false);\n          history.push(\"/\");\n        }\n      })\n      .catch((err) => console.log(err));\n  };\n\n  const handleRegister = (password, email) => {\n    auth\n      .register(password, email)\n      .then((res) => {\n        setIsDataSet(true);\n        history.push(\"/sign-in\");\n        setInfoToolTipData({\n          icon: true,\n          title: \"Вы успешно зарегистрировались!\",\n        });\n        handleInfoToolTip();\n      })\n      .catch(() => {\n        setIsDataSet(false);\n        setInfoToolTipData({\n          icon: false,\n          title: \"Что-то пошло не так! Попробуйте ещё раз.\",\n        });\n        handleInfoToolTip();\n      })\n      .finally(() => {\n        setIsDataSet(false);\n      });\n  };\n\n  const handleLogout = () => {\n    localStorage.removeItem(\"token\");\n    setUserData({ email: \"\" });\n    setLoggedIn(false);\n  };\n\n  const tokenCheck = () => {\n    const token = localStorage.getItem(\"token\");\n    if (token) {\n      auth\n        .getContent(token)\n        .then((res) => {\n          if (res) {\n            setUserData({ email: res.data.email });\n            setLoggedIn(true);\n          }\n        })\n        .catch((err) => console.log(err));\n    }\n  };\n\n  return (\n    <CurrentUserContext.Provider value={currentUser}>\n      <div className=\"page\">\n        {loggedIn && (\n          <MenuMobile\n            email={userData.email}\n            handleLogout={handleLogout}\n            isMenuOpen={isMenuOpen}\n          />\n        )}\n\n        <Header\n          handleLogout={handleLogout}\n          email={userData.email}\n          toggleMenu={toggleMenu}\n          isMenuOpen={isMenuOpen}\n        />\n\n        <Switch>\n          <ProtectedRoute\n            exact\n            path=\"/\"\n            loggedIn={loggedIn}\n            handleEditProfileClick={onEditProfile}\n            handleAddPlaceClick={onAddPlace}\n            handleEditAvatarClick={onEditAvatar}\n            handleCardClick={handleCardClick}\n            handleCardDeleteClick={handleCardDeleteClick}\n            cards={cards}\n            onCardLike={handleCardLike}\n            component={Main}\n          />\n\n          <Route path=\"/sign-in\">\n            <Login handleLogin={handleLogin} />\n          </Route>\n\n          <Route path=\"/sign-up\">\n            <Register handleRegister={handleRegister} isDataSet={isDataSet} />\n          </Route>\n\n          <Route>\n            {loggedIn ? <Redirect to=\"/\" /> : <Redirect to=\"/sign-in\" />}\n          </Route>\n        </Switch>\n\n        <Footer />\n        <EditProfilePopup\n          isOpen={isEditProfilePopupOpen}\n          isLoading={isLoading}\n          onClose={closeAllPopups}\n          onUpdateUser={handleUpdateUser}\n          onCloseOverlay={closeByOverlayClick}\n        />\n        <AddPlacePopup\n          isOpen={isAddPlacePopupOpen}\n          isLoading={isLoading}\n          onClose={closeAllPopups}\n          onAddPlace={handleAddPlaceSubmit}\n          onCloseOverlay={closeByOverlayClick}\n          isDataSet={isDataSet}\n        />\n        <EditAvatarPopup\n          isOpen={isEditAvatarPopupOpen}\n          isLoading={isLoading}\n          onClose={closeAllPopups}\n          onUpdateAvatar={handleUpdateAvatar}\n          onCloseOverlay={closeByOverlayClick}\n          isDataSet={isDataSet}\n        />\n        <ImagePopup\n          card={selectedCard}\n          onClose={closeAllPopups}\n          onCloseOverlay={closeByOverlayClick}\n        />\n        <DeleteConfirmPopup\n          card={deletedCard}\n          onClose={closeAllPopups}\n          onCloseOverlay={closeByOverlayClick}\n          onCardDelete={handleCardDelete}\n          isLoading={isLoading}\n        />\n        <InfoToolTip\n          onCloseOverlay={closeByOverlayClick}\n          isOpen={isInfoToolTipOpen}\n          onClose={closeAllPopups}\n          title={infoToolTipData.title}\n          icon={infoToolTipData.icon}\n        />\n      </div>\n    </CurrentUserContext.Provider>\n  );\n}\n\nexport default App;","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { HashRouter } from \"react-router-dom\";\nimport \"./index.css\";\nimport App from \"./components/App\";\nimport reportWebVitals from \"./reportWebVitals\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <HashRouter>\n      <App />\n    </HashRouter>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n\nreportWebVitals();"],"sourceRoot":""}